<!-- Dropdown Display-->
<template>
    <template if:false = {hidelist}>
        <template if:false={record.icon}>    
            <div if:true={loading}>
                <lightning-spinner alternative-text="Loading" size="medium" style="background-color: #ffffff87;"></lightning-spinner>
            </div>
            <lightning-record-view-form 
                    record-id={record.Id}
                    object-api-name={objectApiName}
                    density="compact"
                    onload={onRecordLoad}>

                        <lightning-button
                            variant="base"  
                            label={showLabel}
                            title={showLabel}
                            onclick={toggleDetails}
                            icon-name={icon}
                            class="slds-m-left_small"
                            data-id={record.Id}
                            style="display: inline-block;">
                        </lightning-button>               
                        <span onclick={handleSelect} style="display: inline-block;">
                            <li role="presentation" class="slds-listbox__item">
                                <div id="option1" class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
                                    <div class="slds-m-top_x-small slds-m-right_x-small">
                                        <lightning-icon icon-name={iconname} size="small"></lightning-icon>
                                    </div>                        
                                    <span class="slds-media__body">
                                        <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                                        <span>
                                            {record.Name}</span>
                                        </span>
                                        <!-- <span class="slds-listbox__option-meta slds-listbox__option-meta_entity">{record.Phone} â€¢ {record.PersonMailingStreet} {record.PersonMailingCity} {record.PersonMailingPostalCode}</span>
                                        
                                            <span class="slds-listbox__option-meta slds-listbox__option-meta_entity">{record.HealthCloudGA__StatusGroup__pc}</span>
                                            <span class="slds-listbox__option-meta slds-listbox__option-meta_entity">{record.HealthCloudGA__Testing_Status__pc}</span>
                                            <span class="slds-listbox__option-meta slds-listbox__option-meta_entity">{record.HealthCloudGA__ConditionStatus__pc}</span>
                                        </div> -->
                                        <span class="slds-listbox__option-meta slds-listbox__option-meta_entity">
                                            <template for:each={record.title} for:item="display"> 
                                                {display} &nbsp;
                                            </template> 
                                        </span>
                                        <div data-id={record.Id} class="slds-hide">
                                            <template for:each={record.details.details} for:item="details"> 
                                                <span class="slds-listbox__option-meta slds-listbox__option-meta_entity" key={details.key}>{details.key} - {details.value}</span>
                                            </template> 
                                        </div>
                                    </span>
                                </div>
                                
                            </li>

                        </span>
                            
            </lightning-record-view-form>
        </template> 
        <template if:true={record.icon}>
                <li role="presentation" class="slds-listbox__item">
                    <div id="option2" class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
                        <div class="slds-m-around_small">
                            <lightning-icon icon-name={record.icon} size="small"></lightning-icon>
                        </div>                        
                        <span class="slds-m-around_small">
                            {record.Name}
                        </span>
                    </div>
                    
                </li>         
        </template>
    </template>
</template>